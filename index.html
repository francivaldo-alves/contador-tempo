<!DOCTYPE html>
<html lang="pt-Br">
  <meta charset="UTF-8"/>
  <head>
    <title>Painel Retrabalho</title>
    <!-- Adicionar o link para o arquivo CSS do Bootstrap -->
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    />

    <style>
   
      html,
      body {
        height: 100%;
      }
     
      .centralizar {
        height: 100%;
        color: #00008b;
        font-size: 60px;
        border:1%;
      }
    </style>
    
  </head>
  <body>
    <!-- Div que será centralizada -->
   <div class="d-flex justify-content-center align-items-center text-center conteiner centralizar">
      <h1 id="contador"></h1>
    </div>

    <!-- Adicionar o link para o arquivo JavaScript do Bootstrap -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <script>
      function getTime() {
        
        //Variavel que recebe a data e hora do ultimo retrabalho
        //essa linha deverá ser comentada na proxima atualização
        //let dataUsuario = moment('13/04/2023 18:09:00', 'DD-MM-YYYY HH:mm:ss');
        let dataRetrabalho= moment('29/05/2023 17:25:00', 'DD-MM-YYYY HH:mm:ss');


        let penultimoRetrabalho = moment('29/05/2023 11:01:00', 'DD-MM-YYYY HH:mm:ss');

      
        let agora = moment(); // pega a data e hora atual
    
        let diferenca = moment.duration(agora.diff(dataRetrabalho)); // calcula a diferença em dias
        
        //let recorde = moment.duration(agora.diff(penultimoRetrabalho)); // calcula a diferença em dias
        //let recorde = moment.duration(dataUsuario.diff(penultimoRetrabalho)); // calcula a diferença em dias

       
       let dias = diferenca.days(); 
         let horas = diferenca.hours(); 
        let minutos = diferenca.minutes(); 
        let segundos = diferenca.seconds(); 

        //let recordeDia = recorde.days();
        //let recordeHora = recorde.hours();

        let frase = "Estamos há " + dias + " dias, " + horas + " horas, " +  minutos + " minutos e " + segundos +
          " segundos sem abrir um novo retrabalho de manutenção!" + " <br/><br/> O recorde atual é de 12 dias 00h:24min";  //" + recordeDia + " dias e " + recordeHora + " horas! " ; // concatena a frase com os valores do contador
                
        document.getElementById("contador").innerHTML = frase; // atualiza o elemento HTML com a frase
      }
      setInterval(getTime, 1000); // atualiza a cada segundo
      
      setTimeout(() => {
       document.location.reload();
    }, 180000);
    
    </script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
  </body>
</html>
